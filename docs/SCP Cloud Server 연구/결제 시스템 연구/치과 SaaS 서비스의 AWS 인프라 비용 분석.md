# 치과 SaaS 서비스의 AWS 인프라 비용 분석

> 참고: 본 문서의 모든 가격은 AWS 서울 리전(아시아 태평양) 기준이며, 다음 AWS 공식 요금 페이지를 참조했습니다. 가격은 변동될 수 있으므로 최신 정보는 AWS 공식 사이트에서 확인하세요.
>
> - [AWS EC2 온디맨드 요금](https://aws.amazon.com/ko/ec2/pricing/on-demand/)
> - [AWS RDS 요금](https://aws.amazon.com/ko/rds/pricing/)
> - [AWS S3 요금](https://aws.amazon.com/ko/s3/pricing/)
> - [AWS CloudFront 요금](https://aws.amazon.com/ko/cloudfront/pricing/)

이 문서는 치과 클리닉을 위한 SaaS 서비스를 운영할 때 예상되는 AWS 인프라 비용을 분석합니다. 이 분석을 통해 Tier 기반 요금제의 적절한 설계와 가격 책정에 필요한 기초 자료를 제공합니다.

# 기본 가정

## 서비스 규모

- 고객(치과) 수: 1,000개 클리닉
- 클리닉별 환자 수: 평균 1,000명
- 총 환자 수: 1,000,000명
- 치과당 일일 진료 환자 수: 100명
- 전체 치과 일일 진료 환자 수: 100,000명

## 데이터 규모

- 환자당 이미지 저장 용량: 1GB
- 총 이미지 저장 용량: 1,000,000GB (1PB)
- 환자 진료 시 이미지 업로드 용량: 100MB/환자
- 일일 이미지 업로드 총량: 10TB (100MB × 100,000명)
- 일일 이미지 다운로드 총량: 10TB (100MB × 100,000명)
- 환자 데이터베이스 크기: 50KB/환자 (총 50GB)

## 인프라 구성

- Keycloak 서버: EKS 클러스터 (m5.2xlarge × 2 노드, $0.472/시간/노드)
- Backend 서버: EKS 클러스터 (m5.2xlarge × 2 노드, $0.472/시간/노드)
- 데이터베이스: AWS RDS PostgreSQL (db.m5.2xlarge, $1.166/시간) + 스토리지 비용
- 이미지 저장소: AWS S3 + CloudFront
- 오토스케일링: 트래픽에 따라 노드 수 증가
- 리전: 아시아 태평양(서울)
- EKS 클러스터 요금: $0.10/시간/클러스터 (표준 Kubernetes 버전)

# 월간 비용 추정

## 1. 컴퓨팅 (EKS)

### Keycloak 서버

- m5.2xlarge (8 vCPU, 32GB RAM): $0.472/시간 × 2노드 × 730시간 = **\$689.12**
- EKS 클러스터 비용: $0.10/시간 × 730시간 = **\$73.00**

### Backend 서버

- m5.2xlarge (8 vCPU, 32GB RAM): $0.472/시간 × 2노드 × 730시간 = **\$689.12**
- EKS 클러스터 비용: $0.10/시간 × 730시간 = **\$73.00**

### 오토스케일링 예상 추가 비용

- 피크 시간대 추가 노드: m5.2xlarge × 2노드 × 4시간/일 × 30일 = **\$113.28**

## 2. 데이터베이스 (RDS)

### PostgreSQL

- db.m5.2xlarge (8 vCPU, 32GB RAM): $1.166/시간 × 730시간 = **\$851.18**
- 스토리지 비용 (100GB, gp2): $0.115/GB-월 × 100GB = **\$11.50**
- 백업 스토리지: 포함
- I/O 작업 비용: gp2 스토리지에 포함

## 3. 스토리지 (S3)

### 이미지 저장

- 표준 스토리지 (1PB): $0.023/GB-월 × 1,000,000GB = **\$23,000.00**
- 요청 비용:
  - PUT/POST 요청: 10TB ÷ 100MB × $0.005/1,000요청 = **\$500.00** (객체 업로드 요청)
  - GET 요청: 10TB ÷ 100MB × $0.0004/1,000요청 = **\$40.00** (객체 다운로드 요청)
  - 참고: S3 요청 비용은 데이터 전송 비용과 별도로 발생하는 API 호출 비용입니다.

### 이미지 공유

이미지 공유는 S3 내 권한 변경 또는 메타데이터 업데이트로 구현할 경우:

- API 호출 비용: 월 100만 건 공유 시 약 **\$5.00** (S3 API 요청 비용만 발생)
- 데이터 전송 비용: 실제 파일 복제가 아닌 권한 공유 방식이므로 미미함
- 일반 다운로드 대비 비용: 약 0.1~0.5% 수준 (동일 이미지 다운로드 대비)

참고: 공유 구현 방식에 따라 비용이 달라질 수 있으며, S3 내부 권한 공유 또는 미리 서명된 URL 방식이 가장 비용 효율적입니다.

## 4. 데이터 전송 (CloudFront)

### 이미지 업로드

- 인터넷에서 CloudFront로: 무료
- CloudFront에서 S3로: 10TB/일 × 30일 = 300TB, 첫 10TB는 $0.120/GB, 나머지는 $0.100/GB
  - 10TB × $0.120/GB = **\$1,228.80**
  - 290TB × $0.100/GB = **\$29,491.20**
  - 총 전송 비용: **\$30,720.00**

### 이미지 다운로드

- S3에서 인터넷으로 (한국 리전): 10TB/일 × 30일 = 300TB
  - 첫 10TB: $0.120/GB × 10TB = **\$1,228.80**
  - 다음 40TB: $0.100/GB × 40TB = **\$4,096.00**
  - 다음 100TB: $0.090/GB × 100TB = **\$9,216.00**
  - 나머지 150TB: $0.085/GB × 150TB = **\$13,056.00**
  - 총 다운로드 비용: **\$27,596.80**

## 5. 기타 서비스

### CloudWatch

- 기본 모니터링: **\$10.00**
- 로그 수집: 약 50GB/월 × $0.50/GB = **\$25.00**

# 총 월간 비용 추정

| 서비스                   | 비용 (USD)      |
| ------------------------ | --------------- |
| EKS (Keycloak + Backend) | **\$1,524.24**  |
| 오토스케일링 추가 비용   | **\$113.28**    |
| RDS PostgreSQL           | **\$862.68**    |
| S3 스토리지              | **\$23,000.00** |
| S3 요청 비용             | **\$540.00**    |
| CloudFront 데이터 전송   | **\$30,720.00** |
| 데이터 다운로드          | **\$27,596.80** |
| CloudWatch               | **\$35.00**     |
| 총계                     | **\$84,392.00** |

# 비용 분석 및 시사점

## 주요 비용 항목

1. **데이터 전송 비용** (~$58,300): 전체 비용의 약 69.1%
2. **S3 스토리지 비용** (~$23,000): 전체 비용의 약 27.3%
3. **컴퓨팅 및 데이터베이스** (~$2,500): 전체 비용의 약 3.0%

## 클리닉 규모별 비용 추정

클리닉 수에 따른 비용을 비교하여 규모에 따른 비용 증가 패턴을 분석합니다.

### 클리닉 100개 (현재 추정치의 1/10)

| 서비스                   | 비용 (USD)     | 비율 (%) |
| ------------------------ | -------------- | -------- |
| EKS (Keycloak + Backend) | **\$1,524.24** | 16.0%    |
| 오토스케일링 추가 비용   | **\$113.28**   | 1.2%     |
| RDS PostgreSQL           | **\$862.68**   | 9.0%     |
| S3 스토리지              | **\$2,300.00** | 24.1%    |
| S3 요청 비용             | **\$54.00**    | 0.6%     |
| CloudFront 데이터 전송   | **\$3,072.00** | 32.2%    |
| 데이터 다운로드          | **\$1,562.08** | 16.4%    |
| CloudWatch               | **\$35.00**    | 0.4%     |
| 총계                     | **\$9,523.28** | 100%     |

**주요 비용 항목 (100개 클리닉):**

1. **데이터 전송 비용** (~$4,634): 전체 비용의 약 48.7%
2. **S3 스토리지 비용** (~$2,300): 전체 비용의 약 24.1%
3. **컴퓨팅 및 데이터베이스** (~$2,500): 전체 비용의 약 26.2%

### 클리닉 1,000개 (현재 기준)

| 서비스                   | 비용 (USD)      | 비율 (%) |
| ------------------------ | --------------- | -------- |
| EKS (Keycloak + Backend) | **\$1,524.24**  | 1.8%     |
| 오토스케일링 추가 비용   | **\$113.28**    | 0.1%     |
| RDS PostgreSQL           | **\$862.68**    | 1.0%     |
| S3 스토리지              | **\$23,000.00** | 27.3%    |
| S3 요청 비용             | **\$540.00**    | 0.6%     |
| CloudFront 데이터 전송   | **\$30,720.00** | 36.4%    |
| 데이터 다운로드          | **\$27,596.80** | 32.7%    |
| CloudWatch               | **\$35.00**     | 0.1%     |
| 총계                     | **\$84,392.00** | 100%     |

**주요 비용 항목 (1,000개 클리닉):**

1. **데이터 전송 비용** (~$58,300): 전체 비용의 약 69.1%
2. **S3 스토리지 비용** (~$23,000): 전체 비용의 약 27.3%
3. **컴퓨팅 및 데이터베이스** (~$2,500): 전체 비용의 약 3.0%

### 클리닉 10,000개 (현재 추정치의 10배)

| 서비스                   | 비용 (USD)       | 비율 (%) |
| ------------------------ | ---------------- | -------- |
| EKS (Keycloak + Backend) | **\$3,048.48**   | 0.4%     |
| 오토스케일링 추가 비용   | **\$226.56**     | 0.0%     |
| RDS PostgreSQL           | **\$1,725.36**   | 0.2%     |
| S3 스토리지              | **\$230,000.00** | 27.4%    |
| S3 요청 비용             | **\$5,400.00**   | 0.6%     |
| CloudFront 데이터 전송   | **\$307,200.00** | 36.5%    |
| 데이터 다운로드          | **\$292,032.00** | 34.7%    |
| CloudWatch               | **\$70.00**      | 0.0%     |
| 총계                     | **\$839,702.40** | 100%     |

**주요 비용 항목 (10,000개 클리닉):**

1. **데이터 전송 비용** (~$599,200): 전체 비용의 약 71.4%
2. **S3 스토리지 비용** (~$230,000): 전체 비용의 약 27.4%
3. **컴퓨팅 및 데이터베이스** (~$5,000): 전체 비용의 약 0.6%

## 규모별 비용 증가 분석

클리닉 수에 따른 비용 증가 패턴을 분석하면 다음과 같은 특성이 있습니다:

1. **컴퓨팅 비용 (EKS, RDS)**: 클리닉 수가 10배 증가할 때 약 1~2배 증가

   - 클리닉 100개 → 1,000개: 비율 26.2% → 3.0% (비중 감소)
   - 클리닉 1,000개 → 10,000개: 비율 3.0% → 0.6% (비중 감소)

2. **스토리지 비용 (S3)**: 클리닉 수에 비례하여 선형적으로 증가

   - 클리닉 100개 → 1,000개 → 10,000개: 비율 24.1% → 27.3% → 27.4% (비중 유지)

3. **데이터 전송 비용 (CloudFront, 다운로드)**: 클리닉 수에 비례하여 증가하며 비중이 커짐
   - 클리닉 100개 → 1,000개 → 10,000개: 비율 48.7% → 69.1% → 71.4% (비중 증가)

이러한 분석을 통해 서비스 규모가 커질수록:

- 데이터 전송 비용의 비중이 증가하며, 전체 비용에서 가장 큰 부분을 차지함
- 스토리지 비용은 전체 비용에서 일정한 비율을 유지함
- 컴퓨팅 및 데이터베이스 비용의 비중은 크게 감소함

이는 서비스 규모 확장 시 초점을 맞춰야 할 비용 최적화 영역이 데이터 전송 비용임을 시사합니다.

## 요금제 유형 비교: Tier 기반 vs Usage 기반

서비스 요금제는 크게 두 가지 방식으로 설계할 수 있습니다: Tier 기반 요금제와 Usage 기반 요금제. 각 요금제의 특성을 비교하여 치과 SaaS 서비스에 적합한 요금제를 선택하기 위한 근거를 제시합니다.

### Usage 기반 요금제 (Pay-as-you-go)

**장점:**

- 정확한 사용량에 따른 공정한 요금 부과
- 사용량이 적은 고객에게 경제적
- 사용 패턴에 따른 유연한 비용 구조

**단점:**

- 월별 청구 금액 예측이 어려움
- 사용량 급증 시 예상치 못한 높은 비용 발생 가능
- 고객이 비용 관리에 대한 부담을 느낄 수 있음
- 복잡한 요금 구조로 인한 고객 이해도 저하

**적합한 시나리오:**

- 사용량이 불규칙하고 예측하기 어려운 서비스
- 트래픽이 급변하는 서비스
- 다양한 기능별로 개별 과금이 필요한 서비스
- 주로 개발자 대상 API 서비스나 클라우드 인프라 서비스

### Tier 기반 요금제 (Package)

**장점:**

- 고객이 월별 비용을 명확히 예측 가능
- 단순한 요금 구조로 이해하기 쉬움
- 고객 유지 및 상위 티어 전환 유도에 효과적
- 일정 수준의 오버프로비저닝으로 안정적인 수익 확보

**단점:**

- 일부 고객은 사용하지 않는 리소스에 대해 비용을 지불할 수 있음
- 티어 경계에서의 가격 민감성 발생
- 티어 설계가 잘못되면 수익성 저하 가능

**적합한 시나리오:**

- 사용 패턴이 비교적 예측 가능한 서비스
- 명확한 고객 세그먼트가 있는 서비스
- 안정적인 월 구독료 수익이 필요한 서비스
- B2B 소프트웨어 및 비즈니스 도구

### 치과 SaaS 서비스에 적합한 요금제 선택

치과 SaaS 서비스를 위한 요금제 선택에 있어 **Tier 기반 요금제**가 더 적합하다고 판단됩니다. 주요 근거는 다음과 같습니다:

1. **예측 가능성**: 치과 클리닉은 일반적으로 안정적인 환자 수와 이미지 데이터 생성 패턴을 보입니다. 이는 예측 가능한 리소스 사용으로 이어져 Tier 기반 요금제에 적합합니다.

2. **고객 심리**: 치과 클리닉은 IT 비용에 대한 예측 가능성과 안정성을 선호합니다. Usage 기반 요금제의 변동성은 예산 계획에 어려움을 줄 수 있습니다.

3. **규모 기반 세그멘테이션**: 치과 클리닉은 규모(환자 수, 의사 수)에 따라 명확히 세그먼트화할 수 있어 Tier 기반 요금제 설계가 용이합니다.

4. **비용 주도 요소**: 앞서 분석한 바와 같이, 서비스 비용의 주요 요소는 데이터 전송과 스토리지입니다. 이 두 요소는 클리닉 규모와 비례하며, Tier별 제한을 설정하기 적합합니다.

5. **업셀링 기회**: Tier 기반 구조는 클리닉이 성장함에 따라 상위 Tier로 자연스럽게 업그레이드하도록 유도하여 추가 수익 기회를 제공합니다.

이러한 분석을 바탕으로, 본 서비스는 클리닉 규모와 데이터 사용량에 따른 명확한 Tier 기반 요금제를 채택하는 것이 운영 효율성과 고객 만족도 측면에서 더 유리하다고 판단됩니다.

## Tier 기반 요금제 설계 전략

> **참고**: 아래 내용은 비용 분석을 바탕으로 한 예시 요금제 구조입니다. 기획팀은 이 예시를 참고하여 실제 시장 상황, 경쟁사 분석, 타겟 고객층의 지불 의사 등을 종합적으로 고려해 최종 요금제를 설계해야 합니다.

비용 분석 결과, 데이터 전송 비용과 스토리지 비용이 전체 비용의 96% 이상을 차지하고 있습니다. 따라서 Tier 기반 요금제를 설계할 때는 이 두 요소에 대한 제한을 명확하게 설정하는 것이 중요합니다.

### 권장 Tier 기반 요금제 구조 예시

각 Tier별로 다음 두 가지 주요 제한 요소를 설정합니다:

1. **총 저장 용량 제한**: 치과 클리닉이 저장할 수 있는 최대 이미지 데이터 용량
2. **월간 데이터 전송 용량 제한**: 월간 업로드 및 다운로드할 수 있는 총 데이터 용량

#### Basic Tier

- 저장 용량: 최대 500GB (약 500명의 환자 데이터)
- 월간 데이터 전송 용량: 최대 300GB (약 3,000회의 이미지 업로드/다운로드)
- 공유 기능:
  - 타 클리닉으로 이미지 공유: 월 최대 30회
  - 환자 공유: 제한 (지원하지 않음)
- 월 예상 비용: **\$20-30**
- 적합 대상: 소형 클리닉, 신규 개원 치과, 월 300명 이하 환자 진료

#### Standard Tier

- 저장 용량: 최대 2TB (약 2,000명의 환자 데이터)
- 월간 데이터 전송 용량: 최대 2TB (약 20,000회의 이미지 업로드/다운로드)
- 공유 기능:
  - 타 클리닉으로 이미지 공유: 월 최대 100회
  - 환자 공유: 월 최대 500회
- 월 예상 비용: **\$60-80**
- 적합 대상: 중형 클리닉, 월 2,000명 이하 환자 진료

#### Premium Tier

- 저장 용량: 최대 10TB (약 10,000명의 환자 데이터)
- 월간 데이터 전송 용량: 최대 10TB (약 100,000회의 이미지 업로드/다운로드)
- 공유 기능:
  - 타 클리닉으로 이미지 공유: 무제한
  - 환자 공유: 무제한
  - 고급 공유 설정 (만료일, 접근 제한, 일괄 공유)
- 월 예상 비용: **\$300-400**
- 적합 대상: 대형 클리닉, 병원급 치과 센터, 치과 체인, 월 10,000명 이하 환자 진료

### 커스텀 엔터프라이즈 솔루션

- 프리미엄 티어의 용량을 초과하는 대규모 치과 체인, 의과대학 병원, 연구 기관 등에 적합한 커스텀 엔터프라이즈 솔루션을 제공합니다:
- 고객의 정확한 데이터 저장 및 전송 요구에 맞춘 리소스 할당
- 요구사항 기반 맞춤형 견적 제공

### Tier 초과 시 정책 옵션 예시

Tier별 한도를 초과할 경우 다음과 같은 옵션을 제공할 수 있습니다:

1. **자동 상위 Tier 전환**: 한도 초과 시 자동으로 상위 Tier로 업그레이드
2. **임시 제한 해제**: 제한적 기간 동안 한도 초과 허용 후 다음 결제 주기에 정책 재검토
3. **서비스 일시 정지**: 고객 통보 후 추가 사용 일시 중단 (데이터 조회만 가능)

### 추가 고려사항

기획팀은 최종 요금제 설계 시 다음 요소들도 함께 고려해야 합니다:

- **API 호출 제한**: 각 Tier별로 일일/월간 API 호출 횟수 제한 추가 검토
- **동시 접속자 수 제한**: 각 Tier별로 동시에 시스템에 접속할 수 있는 사용자 수 제한
- **백업 및 보관 정책**: 각 Tier별로 차별화된 백업 주기 및 보관 기간 설정
- **고객 알림 및 승인 절차**: Tier 한도 초과 시 고객에게 명확한 고지와 승인 절차 마련

# 트래픽 기반 요금제 고려사항

비용 분석 결과에 따르면 데이터 전송 비용(69.1%)이 스토리지 비용(27.3%)보다 훨씬 큰 비중을 차지하고 있습니다. 이를 바탕으로 "무제한 스토리지"를 제공하는 트래픽 기반 요금제의 가능성을 검토해볼 수 있습니다.

## 무제한 스토리지 기반 요금제의 장단점

**장점:**

- **마케팅 차별화**: "무제한 스토리지"는 강력한 마케팅 포인트로 경쟁사 대비 차별화 가능
- **단순한 구조**: 고객이 이해하기 쉬운 간결한 요금 체계 제공
- **성장 부담 제거**: 클리닉이 환자 데이터 증가에 따른 스토리지 비용 걱정 없이 서비스 사용 가능

**단점:**

- **비용 예측 불확실성**: 스토리지 사용량 예측이 어려워 수익성 계획에 위험 요소
- **낭비적 사용 조장**: 고객이 불필요한 데이터도 삭제하지 않고 계속 보관할 가능성
- **스토리지 비용 상승 위험**: 전체 비용의 27.3%가 통제되지 않는 변수가 됨

## 현실적 접근법

완전한 무제한 스토리지보다는 다음과 같은 하이브리드 접근법이 더 현실적입니다:

1. **"사실상 무제한" 접근법**:

   - 매우 높은 스토리지 한도를 설정하되(예: Basic 티어도 5TB 이상), 마케팅적으로는 "무제한"으로 홍보
   - 99% 고객이 실제로 한도에 도달하지 않아 사실상 무제한으로 인식

2. **데이터 수명주기 관리 통합**:

   - 무제한 스토리지 제공하되, 오래된 데이터(예: 2년 이상)는 자동으로 저비용 아카이브 스토리지로 이동
   - 아카이브된 데이터는 복원 시간이 길어질 수 있다는 점을 고객에게 고지

3. **트래픽 중심 + 활성 스토리지 개념**:
   - 트래픽에 따라 요금제 구분하고, "활성 스토리지"(최근 1년 데이터)는 무제한 제공
   - 비활성 데이터는 티어별로 차등화된 용량 제공

트래픽 기반 요금제와 "실질적 무제한 스토리지" 개념을 결합하면, 비용 구조의 대부분(데이터 전송 69.1%)을 통제하면서도 마케팅적 장점을 살릴 수 있습니다. 다만 스토리지 최적화(S3 계층화, 압축 등)를 통해 스토리지 비용을 관리하는 내부 전략은 필수적으로 병행해야 합니다.

# 비용 최적화 및 핵심 개선 영역

규모와 관계없이 서비스의 수익성 개선을 위해서는 다음 영역에 검토해야 합니다:

1. **데이터 전송 최적화**:

   - CloudFront 캐싱 정책 최적화로 S3 직접 액세스 감소
   - 이미지 압축 및 포맷 최적화
   - 예상 절감액: 데이터 전송 비용의 최대 30% (~$16,000/월)

2. **스토리지 최적화**:

   - 오래된 이미지를 S3 IA 또는 Glacier로 자동 이동
   - 예상 절감액: 스토리지 비용의 최대 50% (~$11,500/월)

3. **컴퓨팅 리소스 최적화**:
   - EKS 및 RDS에 1년 또는 3년 약정 적용
   - 예상 절감액: 컴퓨팅 비용의 최대 40% (~$920/월)

이러한 최적화를 통해 고객에게 경쟁력 있는 가격을 제공하면서도 서비스의 수익성을 확보할 수 있을 것입니다.

# 결론

> **핵심 비용 인사이트: 치과 SaaS 서비스에서 데이터 전송 비용은 스토리지 비용의 약 2.5배이며, 전체 비용의 약 70%를 차지합니다.**

비용 분석 결과, 이 서비스의 주요 비용 요소는 데이터 전송(69.1%)과 스토리지(27.3%)입니다. 특히 주목할 점은 **데이터 전송 비용이 스토리지 비용보다 훨씬 크다**는 것입니다. 규모가 커질수록 이 차이는 더욱 뚜렷해지며, 이는 치과 SaaS 서비스의 비용 최적화에서 가장 중요한 요소가 데이터 전송 관리임을 시사합니다.

## 데이터 전송 비용의 중요성

| 클리닉 규모 | 데이터 전송 비용 비율 | 스토리지 비용 비율 | 차이(배수) |
| ----------- | --------------------- | ------------------ | ---------- |
| 100개       | 48.7%                 | 24.1%              | 2.0배      |
| 1,000개     | 69.1%                 | 27.3%              | 2.5배      |
| 10,000개    | 71.4%                 | 27.4%              | 2.6배      |

이 분석 결과에 기반하여, Tier 기반 요금제를 설계할 때는 다음 두 가지 요소에 대한 제한을 명확하게 설정해야 합니다:

1. **월간 데이터 전송 용량 제한** (우선순위: 높음): 각 Tier별로 월간 업로드 및 다운로드할 수 있는 총 데이터 용량을 명확히 제한
2. **총 저장 용량 제한** (우선순위: 중간): 치과 클리닉이 저장할 수 있는 최대 이미지 데이터 용량

제안된 Tier 기반 구조는 클리닉 규모별로 차별화된 용량 제한을 제공하며, 각 클리닉 규모에 따른 예상 비용을 명확히 하고 있습니다.
